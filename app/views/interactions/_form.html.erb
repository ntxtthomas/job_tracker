<%= form_with(model: interaction) do |form| %>
<% if interaction.errors.any? %>
<div style="color: red">
  <h2><%= pluralize(interaction.errors.count, "error") %> prohibited this interaction from being saved:</h2>

  <ul>
    <% interaction.errors.each do |error| %>
    <li><%= error.full_message %></li>
    <% end %>
  </ul>
</div>
<% end %>

<div>
  <%= form.label :contact_id, "Contact (Optional)", style: "display: block" %>
  <%= form.select :contact_id, 
          options_from_collection_for_select(
            defined?(@contacts) ? @contacts : Contact.all.order(:name), 
            :id, 
            :name, 
            interaction.contact_id
          ), 
          { prompt: "No specific contact", include_blank: true }, 
          { style: "display: block; width: 250px; height: 30px;" } %>
</div>
<div>
  <%= form.label :company_id, "Company", style: "display: block" %>
  <%= form.select :company_id, 
        options_from_collection_for_select(
          defined?(@companies) ? @companies : Company.all.order(:name), 
          :id, 
          :name, 
          interaction.company_id
        ), 
        { prompt: "Select a company" }, 
        { style: "display: block; width: 250px; height: 30px;" } %>
</div>

<div>
  <%= form.label :category, style: "display: block" %>
  <%= form.select :category, 
        options_for_select([
          ["Phone Call", "phone_call"],
          ["Email", "email"],
          ["Meeting", "meeting"],
          ["Interview", "interview"],
          ["Follow-up", "follow_up"],
          ["Application", "application"],
          ["Other", "other"]
        ], interaction.category), 
        { prompt: "Select category" }, 
        { style: "display: block; width: 250px; height: 30px;" } %>
</div>

<div>
  <%= form.label :note, style: "display: block" %>
  <%= form.text_area :note, rows: 4, style: "display: block; width: 100%;" %>
</div>

<div>
  <%= form.label :follow_up_date, style: "display: block" %>
  <%= form.date_field :follow_up_date, style: "display: block; width: 250px; height: 30px;" %>
</div>

<div>
  <%= form.label :status, style: "display: block" %>
  <%= form.select :status, 
        options_for_select([
          ["Pending", "pending"],
          ["Completed", "completed"],
          ["Scheduled", "scheduled"],
          ["Cancelled", "cancelled"]
        ], interaction.status), 
        { prompt: "Select status" }, 
        { style: "display: block; width: 250px; height: 30px;" } %>
</div>

<div style="margin-top: 20px;">
  <%= form.submit %>
</div>
<% end %>
